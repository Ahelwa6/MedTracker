<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedTrack - Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f6f7f6 0%, #ffffff 50%, #f0f9ff 100%);
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
        }
        .card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            padding: 1.5rem;
            border: 1px solid rgba(199, 207, 199, 0.5);
        }
        .btn-primary {
            background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
            color: white;
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
        }
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(2, 132, 199, 0.3);
        }
        .btn-secondary {
            background: #e3e7e3;
            color: #3f4a3f;
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
        }
        .btn-secondary:hover {
            background: #c7cfc7;
        }
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .badge-info { background: #e0f2fe; color: #075985; border: 1px solid #bae6fd; }
        .badge-warning { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
        .badge-danger { background: #ffe4e6; color: #9f1239; border: 1px solid #fecdd3; }
        .badge-success { background: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
        .input-field {
            width: 100%;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            border: 1px solid #c7cfc7;
            transition: all 0.2s;
            outline: none;
        }
        .input-field:focus {
            border-color: #7dd3fc;
            box-shadow: 0 0 0 3px rgba(224, 242, 254, 0.5);
        }
        .time-slot {
            background: white;
            border: 2px solid #e3e7e3;
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .medication-item {
            background: #f6f7f6;
            border: 1px solid #e3e7e3;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Medication Database
        const MEDICATIONS_DB = {
            metformin: {
                name: 'Metformin',
                category: 'Antidiabetic',
                dosages: ['500mg', '750mg', '850mg', '1000mg'],
                timing: { withFood: true, timeOfDay: ['morning', 'evening'] },
                notes: 'Take with meals to reduce GI side effects. Common for PCOS.'
            },
            inositol: {
                name: 'Inositol (Myo-Inositol)',
                category: 'Supplement',
                dosages: ['2000mg', '4000mg'],
                timing: { withFood: false, timeOfDay: ['morning', 'evening'] },
                notes: 'Often used for PCOS. May improve insulin sensitivity.'
            },
            magnesium: {
                name: 'Magnesium',
                category: 'Mineral Supplement',
                dosages: ['200mg', '250mg', '400mg'],
                timing: { withFood: true, timeOfDay: ['evening'], spacing: 2 },
                notes: 'Best taken at night. Space 2+ hours from other medications.'
            },
            multivitamin: {
                name: 'Multivitamin',
                category: 'Vitamin Supplement',
                dosages: ['1 tablet'],
                timing: { withFood: true, timeOfDay: ['morning'] },
                notes: 'Take with food containing some fat for better absorption.'
            },
            appleCiderVinegar: {
                name: 'Apple Cider Vinegar',
                category: 'Supplement',
                dosages: ['500mg', '1000mg'],
                timing: { withFood: true, timeOfDay: ['morning'] },
                notes: 'Often taken before meals. May help with blood sugar control.'
            }
        };

        const INTERACTIONS = [
            {
                drug1: 'metformin',
                drug2: 'appleCiderVinegar',
                severity: 'moderate',
                description: 'Both may lower blood sugar. Monitor glucose levels carefully.',
                recommendation: 'Space doses and monitor blood sugar. Consult doctor if experiencing hypoglycemia.'
            }
        ];

        // Icon Components
        const PillIcon = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M10.5 20.5 10.5 3.5M21 10a9 9 0 1 1-9-9 9 9 0 0 1 9 9Z"/>
            </svg>
        );

        const SunIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32 1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/>
            </svg>
        );

        const MoonIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>
            </svg>
        );

        const AlertIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
        );

        const CheckIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="20 6 9 17 4 12"/>
            </svg>
        );

        const UtensilsIcon = () => (
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2M7 2v20M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/>
            </svg>
        );

        // Main App Component
        function MedTrackApp() {
            const [currentView, setCurrentView] = useState('welcome');
            const [userProfile, setUserProfile] = useState({ name: '', conditions: [] });
            const [medications, setMedications] = useState([]);
            const [schedule, setSchedule] = useState({ morning: [], evening: [], night: [] });
            const [interactions, setInteractions] = useState([]);

            // Generate schedule when medications change
            useEffect(() => {
                if (medications.length > 0) {
                    const newSchedule = { morning: [], evening: [], night: [] };
                    
                    medications.forEach(med => {
                        const medInfo = MEDICATIONS_DB[med.medicationId];
                        if (!medInfo) return;

                        const timing = medInfo.timing;
                        
                        if (timing.timeOfDay.includes('morning')) {
                            newSchedule.morning.push({ ...med, info: medInfo, time: '8:00 AM' });
                        }
                        if (timing.timeOfDay.includes('evening') && timing.timeOfDay.includes('morning')) {
                            newSchedule.evening.push({ ...med, info: medInfo, time: '6:00 PM' });
                        }
                        if (timing.spacing || (timing.timeOfDay.includes('evening') && !timing.timeOfDay.includes('morning'))) {
                            newSchedule.night.push({ ...med, info: medInfo, time: '10:00 PM' });
                        }
                    });

                    setSchedule(newSchedule);

                    // Check interactions
                    const foundInteractions = [];
                    for (let i = 0; i < medications.length; i++) {
                        for (let j = i + 1; j < medications.length; j++) {
                            const interaction = INTERACTIONS.find(
                                int => (int.drug1 === medications[i].medicationId && int.drug2 === medications[j].medicationId) ||
                                       (int.drug2 === medications[i].medicationId && int.drug1 === medications[j].medicationId)
                            );
                            if (interaction) {
                                foundInteractions.push({
                                    ...interaction,
                                    med1Name: MEDICATIONS_DB[medications[i].medicationId]?.name,
                                    med2Name: MEDICATIONS_DB[medications[j].medicationId]?.name
                                });
                            }
                        }
                    }
                    setInteractions(foundInteractions);
                }
            }, [medications]);

            // Welcome Screen
            const WelcomeScreen = () => (
                <div className="min-h-screen flex items-center justify-center p-4">
                    <div className="max-w-4xl text-center fade-in">
                        <div className="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-3xl mb-6 shadow-lg">
                            <PillIcon />
                        </div>
                        <h1 className="text-5xl font-bold text-gray-800 mb-4">MedTrack</h1>
                        <p className="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                            Your personal medication management companion. Track medications, check interactions, and never miss a dose.
                        </p>
                        <div className="grid md:grid-cols-3 gap-4 mb-8">
                            <div className="card text-left">
                                <div className="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mb-3 text-green-600">
                                    <CheckIcon />
                                </div>
                                <h3 className="font-semibold mb-2">Safety First</h3>
                                <p className="text-sm text-gray-600">Check drug interactions backed by medical databases</p>
                            </div>
                            <div className="card text-left">
                                <div className="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3 text-blue-600">
                                    <SunIcon />
                                </div>
                                <h3 className="font-semibold mb-2">Smart Scheduling</h3>
                                <p className="text-sm text-gray-600">Optimized timing based on interactions and requirements</p>
                            </div>
                            <div className="card text-left">
                                <div className="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center mb-3 text-amber-600">
                                    <AlertIcon />
                                </div>
                                <h3 className="font-semibold mb-2">Never Miss a Dose</h3>
                                <p className="text-sm text-gray-600">Customizable reminders to keep you on track</p>
                            </div>
                        </div>
                        <button onClick={() => setCurrentView('profile')} className="btn-primary">
                            Get Started ‚Üí
                        </button>
                        <p className="text-xs text-gray-500 mt-4">
                            ‚ö†Ô∏è This app is for informational purposes only and is not a substitute for professional medical advice.
                        </p>
                    </div>
                </div>
            );

            // Profile Screen
            const ProfileScreen = () => {
                const [name, setName] = useState('');
                const [conditionInput, setConditionInput] = useState('');
                const [conditions, setConditions] = useState([]);

                const handleSubmit = (e) => {
                    e.preventDefault();
                    setUserProfile({ name, conditions });
                    setCurrentView('medications');
                };

                return (
                    <div className="max-w-2xl mx-auto p-4 fade-in">
                        <h2 className="text-3xl font-bold mb-6">Your Profile</h2>
                        <form onSubmit={handleSubmit} className="card space-y-6">
                            <div>
                                <label className="block font-medium mb-2">Name *</label>
                                <input
                                    type="text"
                                    value={name}
                                    onChange={(e) => setName(e.target.value)}
                                    className="input-field"
                                    placeholder="Your name"
                                    required
                                />
                            </div>
                            
                            <div>
                                <label className="block font-medium mb-2">Medical Conditions</label>
                                <div className="flex gap-2 mb-3">
                                    <input
                                        type="text"
                                        value={conditionInput}
                                        onChange={(e) => setConditionInput(e.target.value)}
                                        onKeyPress={(e) => {
                                            if (e.key === 'Enter') {
                                                e.preventDefault();
                                                if (conditionInput.trim()) {
                                                    setConditions([...conditions, conditionInput.trim()]);
                                                    setConditionInput('');
                                                }
                                            }
                                        }}
                                        className="input-field"
                                        placeholder="e.g., PCOS, Diabetes"
                                    />
                                    <button
                                        type="button"
                                        onClick={() => {
                                            if (conditionInput.trim()) {
                                                setConditions([...conditions, conditionInput.trim()]);
                                                setConditionInput('');
                                            }
                                        }}
                                        className="btn-secondary"
                                    >
                                        Add
                                    </button>
                                </div>
                                <div className="flex flex-wrap gap-2">
                                    {conditions.map((condition, idx) => (
                                        <span
                                            key={idx}
                                            onClick={() => setConditions(conditions.filter((_, i) => i !== idx))}
                                            className="badge badge-info cursor-pointer"
                                        >
                                            {condition} √ó
                                        </span>
                                    ))}
                                </div>
                            </div>

                            <div className="bg-amber-50 border border-amber-200 rounded-lg p-4 flex gap-3">
                                <AlertIcon />
                                <p className="text-sm text-amber-800">
                                    This information helps us provide better medication safety checks. However, this app is not a substitute for professional medical advice.
                                </p>
                            </div>

                            <button type="submit" className="btn-primary w-full">
                                Save Profile & Continue
                            </button>
                        </form>
                    </div>
                );
            };

            // Add Medication Screen
            const AddMedicationScreen = () => {
                const [selectedMed, setSelectedMed] = useState(null);
                const [dosage, setDosage] = useState('');
                const [searchTerm, setSearchTerm] = useState('');

                const filteredMeds = Object.entries(MEDICATIONS_DB).filter(([id, med]) =>
                    med.name.toLowerCase().includes(searchTerm.toLowerCase())
                );

                const handleAdd = (e) => {
                    e.preventDefault();
                    if (!selectedMed || !dosage) return;

                    const newMed = {
                        id: Date.now(),
                        medicationId: selectedMed[0],
                        name: selectedMed[1].name,
                        dosage
                    };

                    setMedications([...medications, newMed]);
                    setCurrentView('dashboard');
                };

                return (
                    <div className="max-w-5xl mx-auto p-4 fade-in">
                        <button onClick={() => setCurrentView('medications')} className="text-blue-600 mb-4">
                            ‚Üê Back
                        </button>
                        <h2 className="text-3xl font-bold mb-6">Add Medication</h2>
                        
                        <div className="grid md:grid-cols-2 gap-6">
                            <div className="card">
                                <h3 className="font-semibold mb-4">Search Medication</h3>
                                <input
                                    type="text"
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                    placeholder="Search medications..."
                                    className="input-field mb-4"
                                />
                                <div className="space-y-2 max-h-96 overflow-y-auto">
                                    {filteredMeds.map(([id, med]) => (
                                        <div
                                            key={id}
                                            onClick={() => setSelectedMed([id, med])}
                                            className={`p-4 rounded-lg border-2 cursor-pointer transition ${
                                                selectedMed && selectedMed[0] === id
                                                    ? 'border-blue-400 bg-blue-50'
                                                    : 'border-gray-200 hover:border-gray-300'
                                            }`}
                                        >
                                            <h4 className="font-semibold">{med.name}</h4>
                                            <p className="text-sm text-gray-600">{med.category}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="card">
                                {selectedMed ? (
                                    <form onSubmit={handleAdd} className="space-y-4">
                                        <div>
                                            <h3 className="font-semibold text-lg mb-2">{selectedMed[1].name}</h3>
                                            <p className="text-sm text-gray-600 mb-4">{selectedMed[1].notes}</p>
                                        </div>
                                        
                                        <div>
                                            <label className="block font-medium mb-2">Dosage *</label>
                                            <select
                                                value={dosage}
                                                onChange={(e) => setDosage(e.target.value)}
                                                className="input-field"
                                                required
                                            >
                                                <option value="">Select dosage</option>
                                                {selectedMed[1].dosages.map(dose => (
                                                    <option key={dose} value={dose}>{dose}</option>
                                                ))}
                                            </select>
                                        </div>

                                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-3">
                                            <h4 className="font-medium text-blue-900 mb-2">Timing Guidelines</h4>
                                            <ul className="text-sm text-blue-700 space-y-1">
                                                {selectedMed[1].timing.withFood && <li>‚Ä¢ Take with food</li>}
                                                {selectedMed[1].timing.timeOfDay.length > 0 && (
                                                    <li>‚Ä¢ Best taken: {selectedMed[1].timing.timeOfDay.join(', ')}</li>
                                                )}
                                                {selectedMed[1].timing.spacing && (
                                                    <li>‚Ä¢ Space {selectedMed[1].timing.spacing} hours from other medications</li>
                                                )}
                                            </ul>
                                        </div>

                                        <button type="submit" className="btn-primary w-full">
                                            Add Medication
                                        </button>
                                    </form>
                                ) : (
                                    <div className="text-center py-12 text-gray-500">
                                        Search and select a medication to get started
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                );
            };

            // Medications List Screen
            const MedicationsScreen = () => (
                <div className="max-w-4xl mx-auto p-4 fade-in">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-3xl font-bold">My Medications</h2>
                        <button onClick={() => setCurrentView('add-medication')} className="btn-primary">
                            + Add Medication
                        </button>
                    </div>

                    {medications.length === 0 ? (
                        <div className="card text-center py-12">
                            <div className="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <PillIcon />
                            </div>
                            <h3 className="text-xl font-semibold mb-2">No medications added yet</h3>
                            <p className="text-gray-600 mb-6">Start by adding your medications</p>
                            <button onClick={() => setCurrentView('add-medication')} className="btn-primary">
                                Add Your First Medication
                            </button>
                        </div>
                    ) : (
                        <div className="space-y-4">
                            {medications.map(med => (
                                <div key={med.id} className="card">
                                    <div className="flex justify-between items-start">
                                        <div>
                                            <div className="flex items-center gap-3 mb-2">
                                                <h3 className="text-xl font-semibold">{med.name}</h3>
                                                <span className="badge badge-info">{med.dosage}</span>
                                            </div>
                                        </div>
                                        <button
                                            onClick={() => setMedications(medications.filter(m => m.id !== med.id))}
                                            className="text-red-600 hover:bg-red-50 p-2 rounded"
                                        >
                                            Delete
                                        </button>
                                    </div>
                                </div>
                            ))}

                            <div className="bg-blue-50 border border-blue-200 rounded-lg p-6 mt-6">
                                <h3 className="font-semibold text-blue-900 mb-2">Next Steps</h3>
                                <p className="text-sm text-blue-700 mb-4">
                                    Check the Schedule to see your optimized medication timing, or visit Interactions to check for potential drug interactions.
                                </p>
                                <div className="flex gap-3">
                                    <button onClick={() => setCurrentView('schedule')} className="btn-primary">
                                        View Schedule
                                    </button>
                                    <button onClick={() => setCurrentView('interactions')} className="btn-secondary">
                                        Check Interactions
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );

            // Schedule Screen
            const ScheduleScreen = () => {
                const timeSlots = [
                    { id: 'morning', label: 'Morning', time: '8:00 AM', icon: <SunIcon />, color: 'amber', meds: schedule.morning },
                    { id: 'evening', label: 'Evening', time: '6:00 PM', icon: <SunIcon />, color: 'orange', meds: schedule.evening },
                    { id: 'night', label: 'Night', time: '10:00 PM', icon: <MoonIcon />, color: 'indigo', meds: schedule.night }
                ];

                return (
                    <div className="max-w-4xl mx-auto p-4 fade-in">
                        <h2 className="text-3xl font-bold mb-6">Daily Schedule</h2>
                        
                        {medications.length === 0 ? (
                            <div className="card text-center py-12">
                                <p className="text-gray-600">Add medications to generate your schedule</p>
                            </div>
                        ) : (
                            <div className="space-y-4">
                                {timeSlots.map(slot => (
                                    <div key={slot.id} className="time-slot">
                                        <div className="flex items-center gap-3 mb-4">
                                            <div className={`w-10 h-10 bg-${slot.color}-100 rounded-lg flex items-center justify-center text-${slot.color}-600`}>
                                                {slot.icon}
                                            </div>
                                            <div>
                                                <h3 className="font-semibold text-lg">{slot.label}</h3>
                                                <p className="text-sm text-gray-600">{slot.time}</p>
                                            </div>
                                            {slot.meds && slot.meds.length > 0 && (
                                                <span className="badge badge-info ml-auto">
                                                    {slot.meds.length} medication{slot.meds.length > 1 ? 's' : ''}
                                                </span>
                                            )}
                                        </div>

                                        {slot.meds && slot.meds.length > 0 ? (
                                            <div className="space-y-3">
                                                {slot.meds.map(med => (
                                                    <div key={med.id} className="medication-item">
                                                        <div className="flex justify-between items-start">
                                                            <div className="flex-1">
                                                                <h4 className="font-semibold">{med.name}</h4>
                                                                <p className="text-sm text-gray-600">{med.dosage}</p>
                                                                {med.info?.timing.withFood && (
                                                                    <div className="flex items-center gap-1 text-xs text-gray-600 mt-2">
                                                                        <UtensilsIcon />
                                                                        Take with food
                                                                    </div>
                                                                )}
                                                            </div>
                                                            <button className="p-2 hover:bg-green-100 rounded text-gray-400">
                                                                <CheckIcon />
                                                            </button>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        ) : (
                                            <p className="text-sm text-gray-500 italic">No medications scheduled</p>
                                        )}
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                );
            };

            // Interactions Screen
            const InteractionsScreen = () => (
                <div className="max-w-4xl mx-auto p-4 fade-in">
                    <h2 className="text-3xl font-bold mb-6">Drug Interactions</h2>
                    
                    {medications.length === 0 ? (
                        <div className="card text-center py-12">
                            <p className="text-gray-600">Add medications to check for interactions</p>
                        </div>
                    ) : interactions.length === 0 ? (
                        <div className="card">
                            <div className="flex items-start gap-4">
                                <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <CheckIcon />
                                </div>
                                <div>
                                    <h3 className="text-lg font-semibold mb-2">‚úÖ No Known Interactions Detected</h3>
                                    <p className="text-gray-600 mb-4">
                                        Based on current medical databases, your medications do not have any documented major interactions.
                                    </p>
                                    <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                        <p className="text-sm text-blue-800">
                                            <strong>Note:</strong> This checker uses medical data, but may not include all possible interactions. Always inform your doctor about all medications you're taking.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    ) : (
                        <>
                            <div className="bg-amber-50 border border-amber-200 rounded-lg p-4 flex gap-3 mb-6">
                                <AlertIcon />
                                <p className="text-sm text-amber-800">
                                    <strong>{interactions.length}</strong> potential interaction{interactions.length > 1 ? 's' : ''} detected. Review the details below and consult your healthcare provider.
                                </p>
                            </div>

                            <div className="space-y-4">
                                {interactions.map((interaction, idx) => (
                                    <div key={idx} className="card border-2 border-amber-200">
                                        <div className="flex items-start gap-4">
                                            <div className="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center text-amber-600">
                                                <AlertIcon />
                                            </div>
                                            <div className="flex-1">
                                                <div className="flex justify-between items-start mb-3">
                                                    <h3 className="text-lg font-semibold">
                                                        {interaction.med1Name} + {interaction.med2Name}
                                                    </h3>
                                                    <span className="badge badge-warning capitalize">{interaction.severity}</span>
                                                </div>
                                                
                                                <div className="space-y-3">
                                                    <div>
                                                        <h4 className="text-sm font-medium mb-1">Description</h4>
                                                        <p className="text-sm text-gray-700">{interaction.description}</p>
                                                    </div>
                                                    
                                                    <div className="bg-amber-50 rounded-lg p-3 border border-amber-200">
                                                        <h4 className="text-sm font-medium mb-1">üíä Recommendation</h4>
                                                        <p className="text-sm text-gray-700">{interaction.recommendation}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </>
                    )}

                    <div className="bg-rose-50 border border-rose-200 rounded-lg p-6 mt-6">
                        <div className="flex gap-3">
                            <AlertIcon />
                            <div>
                                <h3 className="font-semibold text-rose-900 mb-2">Important Medical Disclaimer</h3>
                                <p className="text-sm text-rose-800">
                                    This interaction checker is for informational purposes only and should not replace professional medical advice. Always consult your healthcare provider before making any changes to your medications.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // Dashboard
            const Dashboard = () => (
                <div className="max-w-5xl mx-auto p-4 fade-in">
                    <h2 className="text-3xl font-bold mb-2">Welcome back{userProfile.name ? `, ${userProfile.name}` : ''}! üëã</h2>
                    <p className="text-gray-600 mb-8">{new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</p>

                    <div className="grid md:grid-cols-3 gap-6 mb-8">
                        <div className="card cursor-pointer hover:shadow-lg transition" onClick={() => setCurrentView('medications')}>
                            <div className="flex justify-between items-start">
                                <div>
                                    <p className="text-gray-600 text-sm mb-1">Active Medications</p>
                                    <p className="text-3xl font-bold">{medications.length}</p>
                                </div>
                                <div className="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600">
                                    <PillIcon />
                                </div>
                            </div>
                        </div>

                        <div className="card cursor-pointer hover:shadow-lg transition" onClick={() => setCurrentView('schedule')}>
                            <div className="flex justify-between items-start">
                                <div>
                                    <p className="text-gray-600 text-sm mb-1">Today's Doses</p>
                                    <p className="text-3xl font-bold">{Object.values(schedule).flat().length}</p>
                                </div>
                                <div className="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center text-green-600">
                                    <SunIcon />
                                </div>
                            </div>
                        </div>

                        <div className="card cursor-pointer hover:shadow-lg transition" onClick={() => setCurrentView('interactions')}>
                            <div className="flex justify-between items-start">
                                <div>
                                    <p className="text-gray-600 text-sm mb-1">Interactions Found</p>
                                    <p className="text-3xl font-bold">{interactions.length}</p>
                                </div>
                                <div className={`w-12 h-12 rounded-lg flex items-center justify-center ${interactions.length > 0 ? 'bg-amber-100 text-amber-600' : 'bg-gray-100 text-gray-600'}`}>
                                    <AlertIcon />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="card">
                        <h3 className="text-lg font-semibold mb-4">Quick Actions</h3>
                        <div className="grid md:grid-cols-3 gap-3">
                            <button onClick={() => setCurrentView('add-medication')} className="btn-primary">
                                + Add Medication
                            </button>
                            <button onClick={() => setCurrentView('schedule')} className="btn-secondary">
                                View Schedule
                            </button>
                            <button onClick={() => setCurrentView('profile')} className="btn-secondary">
                                Update Profile
                            </button>
                        </div>
                    </div>
                </div>
            );

            // Header Navigation
            const Header = () => {
                if (currentView === 'welcome') return null;

                const navItems = [
                    { id: 'dashboard', label: 'Dashboard' },
                    { id: 'medications', label: 'Medications' },
                    { id: 'schedule', label: 'Schedule' },
                    { id: 'interactions', label: 'Interactions' }
                ];

                return (
                    <header className="bg-white/80 backdrop-blur border-b border-gray-200 sticky top-0 z-50 shadow-sm">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <div className="flex justify-between items-center">
                                <div className="flex items-center gap-3 cursor-pointer" onClick={() => setCurrentView('dashboard')}>
                                    <div className="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center">
                                        <PillIcon />
                                    </div>
                                    <div>
                                        <h1 className="text-xl font-bold">MedTrack</h1>
                                        <p className="text-xs text-gray-600">Smart Medication Management</p>
                                    </div>
                                </div>

                                <nav className="hidden md:flex gap-2">
                                    {navItems.map(item => (
                                        <button
                                            key={item.id}
                                            onClick={() => setCurrentView(item.id)}
                                            className={`px-4 py-2 rounded-lg transition ${
                                                currentView === item.id
                                                    ? 'bg-blue-50 text-blue-700 font-medium'
                                                    : 'text-gray-600 hover:bg-gray-50'
                                            }`}
                                        >
                                            {item.label}
                                        </button>
                                    ))}
                                </nav>
                            </div>
                        </div>
                    </header>
                );
            };

            // Render current view
            return (
                <>
                    <Header />
                    {currentView === 'welcome' && <WelcomeScreen />}
                    {currentView === 'profile' && <ProfileScreen />}
                    {currentView === 'dashboard' && <Dashboard />}
                    {currentView === 'medications' && <MedicationsScreen />}
                    {currentView === 'add-medication' && <AddMedicationScreen />}
                    {currentView === 'schedule' && <ScheduleScreen />}
                    {currentView === 'interactions' && <InteractionsScreen />}
                </>
            );
        }

        ReactDOM.render(<MedTrackApp />, document.getElementById('root'));
    </script>
</body>
</html>